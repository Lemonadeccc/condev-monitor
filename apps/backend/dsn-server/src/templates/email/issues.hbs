<html xmlns='http://www.w3.org/1999/xhtml' lang='en'>

    <head>
        <meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
        <meta name='viewport' content='width=device-width, initial-scale=1.0' />
        <meta name='color-scheme' content='light dark' />
        <meta name='supported-color-schemes' content='light dark' />
        <title>Event Report Notification</title>
        <style type='text/css'>
            /* ------------------------------------- 
           Base Styles (Light Mode Default)
        ------------------------------------- */
            body {
                margin: 0;
                padding: 0;
                -webkit-text-size-adjust: 100%;
                -ms-text-size-adjust: 100%;
                background-color: #f5f7fa;
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
                color: #333333;
            }
            table,
            td {
                border-collapse: collapse;
                mso-table-lspace: 0pt;
                mso-table-rspace: 0pt;
            }

            .main-container {
                width: 100%;
                max-width: 800px;
                margin: 0 auto;
                background-color: #ffffff;
                border-radius: 8px;
                overflow: hidden;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            }
            .content-padding {
                padding: 40px;
            }

            .header-title {
                font-size: 22px;
                font-weight: 600;
                color: #1a1a1a;
                margin: 0 0 10px 0;
            }
            .header-desc {
                font-size: 14px;
                color: #666666;
                margin: 0 0 30px 0;
                line-height: 1.5;
            }

            .list-header-row {
                border-bottom: 1px solid #eeeeee;
            }
            .section-label {
                font-size: 12px;
                color: #999999;
                font-weight: normal;
                padding-bottom: 10px;
            }

            .item-row td {
                padding-top: 20px;
                padding-bottom: 20px;
                border-bottom: 1px solid #f5f7fa;
                vertical-align: top;
            }
            .item-key {
                font-size: 14px;
                color: #666666;
                width: 120px;
                padding-right: 20px;
            }
            .item-value {
                font-size: 14px;
                color: #1a1a1a;
                font-weight: 500;
                line-height: 1.6;
                word-break: break-all;
            }

            .status-dot {
                color: #ff4d4f;
                font-size: 18px;
                line-height: 1;
                vertical-align: middle;
                margin-right: 6px;
            }
            .badge {
                display: inline-block;
                background-color: #ffc107;
                color: #1a1a1a;
                font-size: 11px;
                font-weight: bold;
                padding: 2px 6px;
                border-radius: 3px;
                margin-right: 5px;
                vertical-align: middle;
                text-transform: uppercase;
            }
            .badge-gray {
                background-color: #f0f0f0;
                color: #666666;
            }

            .message-box {
                background: #fafafa;
                border: 1px solid #f0f0f0;
                border-radius: 4px;
                padding: 12px;
                font-family: Menlo, Monaco, Consolas, monospace;
                font-size: 13px;
                color: #444444;
                margin-top: 8px;
            }

            .link-text {
                color: #1890ff;
                text-decoration: none;
            }
            .divider-top {
                margin-top: 30px;
                border-top: 1px dashed #eeeeee;
                padding-top: 20px;
                text-align: right;
            }

            /* ------------------------------------- 
           Mobile Responsiveness
        ------------------------------------- */
            @media only screen and (max-width: 600px) {
                .content-padding {
                    padding: 20px !important;
                }
                .item-key {
                    width: 80px !important;
                }
            }

            /* ------------------------------------- 
           Dark Mode (prefers-color-scheme: dark)
        ------------------------------------- */
            @media (prefers-color-scheme: dark) {
                /* Global background */
                body,
                .body-bg-wrapper {
                    background-color: #121212 !important;
                }

                /* Card background */
                .main-container {
                    background-color: #1e1e1e !important;
                    box-shadow: none !important;
                    border: 1px solid #333333 !important;
                }

                /* Title */
                .header-title {
                    color: #e0e0e0 !important;
                }

                /* Description and keys */
                .header-desc,
                .item-key,
                .section-label,
                .ua-text {
                    color: #a0a0a0 !important;
                }

                /* Values */
                .item-value {
                    color: #ffffff !important;
                }

                /* Dividers */
                .list-header-row,
                .item-row td {
                    border-color: #333333 !important;
                }
                .divider-top {
                    border-color: #333333 !important;
                }

                /* Message box */
                .message-box {
                    background-color: #2c2c2c !important;
                    border-color: #333333 !important;
                    color: #d0d0d0 !important;
                }

                /* Badges */
                .badge-gray {
                    background-color: #333333 !important;
                    color: #aaaaaa !important;
                }

                /* Links (slightly softer on dark backgrounds) */
                .link-text {
                    color: #40a9ff !important;
                }
            }
        </style>
    </head>

    <body class='body-bg-wrapper'>
        <center style='width: 100%; padding: 30px 0;' class='body-bg-wrapper'>
            <table class='main-container' border='0' cellpadding='0' cellspacing='0'>
                <tr>
                    <td class='content-padding'>
                        <h1 class='header-title'>Report Details</h1>
                        <p class='header-desc'>A new <strong>{{event_type}}</strong> event has been received. Details are below.</p>

                        <table width='100%' border='0' cellpadding='0' cellspacing='0' style='margin-bottom: 10px;'>
                            <tr class='list-header-row'>
                                <td class='section-label'>Field</td>
                                <td class='section-label'>Value</td>
                            </tr>
                        </table>

                        <table width='100%' border='0' cellpadding='0' cellspacing='0'>

                            <tr class='item-row'>
                                <td class='item-key'>
                                    <span class='status-dot'>&bull;</span>
                                    Event Message
                                </td>
                                <td class='item-value'>
                                    <div>
                                        {{#if event_type}}<span class='badge'>{{event_type}}</span>{{/if}}
                                        {{#if type}}<span class='badge badge-gray'>{{type}}</span>{{/if}}
                                    </div>
                                    <div class='message-box'>
                                        {{#if message}}{{message}}{{else}}-{{/if}}
                                    </div>
                                </td>
                            </tr>

                            {{#if browserInfo}}

                                <tr class='item-row'>
                                    <td class='item-key'>Platform</td>
                                    <td class='item-value'>
                                        {{browserInfo.platform}}
                                    </td>
                                </tr>

                                <tr class='item-row'>
                                    <td class='item-key'>Language</td>
                                    <td class='item-value'>
                                        {{browserInfo.language}}
                                    </td>
                                </tr>

                                <tr class='item-row'>
                                    <td class='item-key'>Path</td>
                                    <td class='item-value'>
                                        <span class='link-text'>{{browserInfo.path}}</span>
                                    </td>
                                </tr>

                                <tr class='item-row'>
                                    <td class='item-key'>User Agent</td>
                                    <td class='item-value ua-text' style='color: #888888; font-size: 13px;'>
                                        {{browserInfo.userAgent}}
                                    </td>
                                </tr>
                            {{/if}}

                        </table>

                        <div class='divider-top'>
                            <a href='#' class='link-text' style='font-size: 13px;'>View in Console &rarr;</a>
                        </div>

                    </td>
                </tr>
            </table>
        </center>
    </body>
</html>